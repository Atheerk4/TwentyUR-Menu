<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>منيو تونتي يو ار | Twenty UR Menu</title>
    <!-- استدعاء خط تجوال -->
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700;800;900&display=swap" rel="stylesheet">
    <!-- استدعاء مكتبات React و Tailwind -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { font-family: 'Tajawal', sans-serif; background-color: #000; margin: 0; }
        .hide-scrollbar::-webkit-scrollbar { display: none; }
        .hide-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        html { scroll-behavior: smooth; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // --- الأيقونات ---
        const User = ({size=24}) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg>;
        const Globe = ({size=24}) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="12" r="10"></circle><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path><path d="M2 12h20"></path></svg>;
        const ChevronDown = ({size=24}) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg>;
        const Truck = ({size=24, fill="none"}) => <svg width={size} height={size} viewBox="0 0 24 24" fill={fill} stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect x="1" y="3" width="15" height="13"></rect><polygon points="16 8 20 8 23 11 23 16 16 16 16 8"></polygon><circle cx="5.5" cy="18.5" r="2.5"></circle><circle cx="18.5" cy="18.5" r="2.5"></circle></svg>;
        const Star = ({size=24, fill="none"}) => <svg width={size} height={size} viewBox="0 0 24 24" fill={fill} stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg>;
        const MapPin = ({size=24, fill="none"}) => <svg width={size} height={size} viewBox="0 0 24 24" fill={fill} stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path><circle cx="12" cy="10" r="3"></circle></svg>;

        const THEME = {
            beige: '#F0ECE1',    
            olive: '#6B7A57',    
            darkText: '#1A2012', 
            blackBtn: '#000000', 
            white: '#FFFFFF',
        };

        // تم إضافة اللغتين لكل قسم
        const CATEGORIES = [
            { id: 'hot', labelAr: 'مشروبات حارة', labelEn: 'Hot Drinks' },
            { id: 'drip', labelAr: 'القهوة المقطرة', labelEn: 'Drip Coffee' },
            { id: 'cold', labelAr: 'مشروبات مثلجة', labelEn: 'Cold Drinks' },
            { id: 'refreshing', labelAr: 'المشروبات المنعشة', labelEn: 'Refreshing Drinks' },
            { id: 'bakery', labelAr: 'المخبوزات', labelEn: 'Bakery' },
            { id: 'desserts', labelAr: 'حلى وكعك', labelEn: 'Desserts & Cakes' }
        ];

        // تم إضافة الترجمة للأسماء والوصف
        const MENU_ITEMS = [
            { id: 101, nameAr: 'إسبريسو', nameEn: 'Espresso', descriptionAr: 'استمتع برشفة مركزة من النكهة الصافية قهوة تحاكي الذوق الرفيع', descriptionEn: 'Enjoy a concentrated sip of pure flavor, a coffee that mimics refined taste', price: 11, calories: 3, categoryId: 'hot', image: '101.jpg' },
            { id: 102, nameAr: 'أمريكانو', nameEn: 'Americano', descriptionAr: 'قهوة سوداء كلاسيكية', descriptionEn: 'Classic black coffee', price: 14, calories: 470, categoryId: 'hot', image: '102.jpg' },
            { id: 103, nameAr: 'كابتشينو', nameEn: 'Cappuccino', descriptionAr: '', descriptionEn: '', price: 15, calories: 100, categoryId: 'hot', image: '103.jpg' },
            { id: 104, nameAr: 'لاتيه', nameEn: 'Latte', descriptionAr: '', descriptionEn: '', price: 15, calories: 240, categoryId: 'hot', image: '104.jpg' },
            { id: 105, nameAr: 'كورتادو', nameEn: 'Cortado', descriptionAr: '', descriptionEn: '', price: 14, calories: 120, categoryId: 'hot', image: '105.jpg' },
            { id: 106, nameAr: 'فلات وايت', nameEn: 'Flat White', descriptionAr: '', descriptionEn: '', price: 15, calories: null, categoryId: 'hot', image: '106.jpg' },
            
            { id: 1, nameAr: 'قهوة حار V60', nameEn: 'Hot V60', descriptionAr: 'قهوة مختصة مقطرة ساخنة', descriptionEn: 'Hot dripped specialty coffee', price: 15, calories: 13, categoryId: 'drip', image: '1.jpg' },
            { id: 2, nameAr: 'قهوة V60 بارد', nameEn: 'Cold V60', descriptionAr: 'قهوة مختصة مقطرة باردة', descriptionEn: 'Cold dripped specialty coffee', price: 16, calories: 13, categoryId: 'drip', image: '2.jpg' },
            { id: 3, nameAr: 'قهوة اليوم حارة', nameEn: 'Hot Coffee of the Day', descriptionAr: 'محضرة طازجة من محاصيلنا المختارة', descriptionEn: 'Freshly brewed from our selected beans', price: 9, calories: null, categoryId: 'drip', image: '3.jpg' },
            { id: 4, nameAr: 'قهوة اليوم بارد', nameEn: 'Cold Coffee of the Day', descriptionAr: 'قهوة اليوم المحضرة باردة', descriptionEn: 'Our daily coffee brewed cold', price: 9, calories: null, categoryId: 'drip', image: '4.jpg' },
            
            { id: 8, nameAr: 'سبانش لاتيه بارد', nameEn: 'Iced Spanish Latte', descriptionAr: '', descriptionEn: '', price: 15, calories: 240, categoryId: 'cold', image: '8.jpg' },
            { id: 9, nameAr: 'سولتد كراميل بارد', nameEn: 'Iced Salted Caramel', descriptionAr: '', descriptionEn: '', price: 16, calories: 248, categoryId: 'cold', image: '9.jpg' },
            { id: 10, nameAr: 'كولد برو', nameEn: 'Cold Brew', descriptionAr: '', descriptionEn: '', price: 25, calories: null, categoryId: 'cold', image: '10.jpg' },
            { id: 11, nameAr: 'ماتشا بارد', nameEn: 'Iced Matcha', descriptionAr: '', descriptionEn: '', price: 20, calories: null, categoryId: 'cold', image: '11.jpg' },
            { id: 12, nameAr: 'امريكانو بارد', nameEn: 'Iced Americano', descriptionAr: '', descriptionEn: '', price: 13, calories: null, categoryId: 'cold', image: '12.jpg' },
            { id: 13, nameAr: 'لاتيه بارد', nameEn: 'Iced Latte', descriptionAr: '', descriptionEn: '', price: 18, calories: null, categoryId: 'cold', image: '13.jpg' },

            { id: 110, nameAr: 'ايس كركديه', nameEn: 'Iced Hibiscus', descriptionAr: '', descriptionEn: '', price: 15, calories: null, categoryId: 'refreshing', image: '110.jpg' },
            { id: 111, nameAr: 'سلاش لومي حساوي', nameEn: 'Hassawi Lime Slush', descriptionAr: '', descriptionEn: '', price: 16, calories: null, categoryId: 'refreshing', image: '111.jpg' },
            { id: 112, nameAr: 'سلاش ريد بول', nameEn: 'Red Bull Slush', descriptionAr: '', descriptionEn: '', price: 25, calories: null, categoryId: 'refreshing', image: '112.jpg' },
            { id: 113, nameAr: 'ايس تي خوخ', nameEn: 'Peach Iced Tea', descriptionAr: '', descriptionEn: '', price: 16, calories: null, categoryId: 'refreshing', image: '113.jpg' },
            { id: 114, nameAr: 'ايس تي باشن فروت', nameEn: 'Passion Fruit Iced Tea', descriptionAr: '', descriptionEn: '', price: 16, calories: null, categoryId: 'refreshing', image: '114.jpg' },

            { id: 15, nameAr: 'فرنش توست شوكلت بلجيكي', nameEn: 'Belgian Chocolate French Toast', descriptionAr: 'فرنش توست غني بالشوكولاتة البلجيكية', descriptionEn: 'French toast rich in Belgian chocolate', price: 21, calories: 375, categoryId: 'bakery', image: '15.jpg' },
            { id: 16, nameAr: 'مكعب فرنش توست بالكاسترد', nameEn: 'Custard French Toast Cube', descriptionAr: 'قطعة بريوش محمرة ومقرمشة ومفرغة من الداخل، محشوة بكريم باتيسيير غني ومزينة بالتوت الطازج.', descriptionEn: 'Toasted brioche cube filled with rich pastry cream and topped with fresh berries.', price: 28, calories: null, categoryId: 'bakery', image: '16.jpg' },
            { id: 17, nameAr: 'كرواسون اللوز', nameEn: 'Almond Croissant', descriptionAr: 'كروسان لوز هش محشو بكريمة لوز غنية ومزين برقائق اللوز', descriptionEn: 'Flaky almond croissant filled with rich almond cream', price: 14, calories: null, categoryId: 'bakery', image: '17.jpg' },
            { id: 18, nameAr: 'بان او سويس شوكولاتة', nameEn: 'Pain Suisse au Chocolat', descriptionAr: 'معجنات فرنسية تقليدية محشوة بكاسترد ناعم', descriptionEn: 'Traditional French pastry filled with smooth custard and chocolate', price: 13, calories: null, categoryId: 'bakery', image: '18.jpg' },
            { id: 19, nameAr: 'دانيش التين والبيكان', nameEn: 'Fig & Pecan Danish', descriptionAr: '', descriptionEn: '', price: 16, calories: null, categoryId: 'bakery', image: '19.jpg' },
            
            { id: 20, nameAr: 'تشيز كيك مدريد', nameEn: 'Madrid Cheesecake', descriptionAr: 'مخبوز بلون ذهبي على قاعدة بسكوت', descriptionEn: 'Baked golden on a biscuit base', price: 24, calories: 340, categoryId: 'desserts', image: '20.jpg' },
            { id: 21, nameAr: 'ماتيلدا كلاسيك', nameEn: 'Classic Matilda', descriptionAr: 'كعكة الشوكولاتة اللذيذة غنيّة بقوام رطب وناعم', descriptionEn: 'Delicious chocolate cake with a rich and moist texture', price: 20, calories: 544, categoryId: 'desserts', image: '21.jpg' },
            { id: 22, nameAr: 'تشيز كيك تمر وبيكان', nameEn: 'Date & Pecan Cheesecake', descriptionAr: 'مخبوز مع توفي وبيكان. يقدم وهو حار مع سايد آيس كريم.', descriptionEn: 'Baked with toffee and pecans. Served warm with a side of ice cream.', price: 27, calories: null, categoryId: 'desserts', image: '22.jpg' },
            { id: 23, nameAr: 'كيكة البيكان الفاخرة', nameEn: 'Premium Pecan Cake', descriptionAr: 'كيكة هشة غنية بالزبدة والبيكان مع طبقة كريمة مخملية ومغلفة بكرانشي البيكان المحمص.', descriptionEn: 'Fluffy butter and pecan cake with a velvety cream layer, covered in crunchy roasted pecans.', price: 28, calories: null, categoryId: 'desserts', image: '23.jpg' },
            { id: 24, nameAr: 'تشيز كيك مغطى بالشوكولاتة', nameEn: 'Chocolate Covered Cheesecake', descriptionAr: 'تشيز كيك غني وكريمي، مغطى بالكامل بطبقة من الشوكولاتة الصلبة تتكسر "طقطقة" بالشوكة.', descriptionEn: 'Rich and creamy cheesecake, fully covered with a hard chocolate shell that snaps with a fork.', price: 26, calories: null, categoryId: 'desserts', image: '24.jpg' },
            { id: 30, nameAr: 'كيكة الدولتشي', nameEn: 'Dolce Cake', descriptionAr: 'كيكة رطبة تذوب في الفم، تتداخل فيها طبقات الكيك المشرب بمرارة القهوة وحلاوة الكراميل.', descriptionEn: 'A moist melt-in-your-mouth cake, intertwining layers of coffee-soaked sponge and sweet caramel.', price: 29, calories: null, categoryId: 'desserts', image: '30.jpg' },
            { id: 25, nameAr: 'تشيز كيك تيراميسو', nameEn: 'Tiramisu Cheesecake', descriptionAr: 'قوام كريمي غني ومتماسك على قاعدة بسكويت كلاسيكية.', descriptionEn: 'Rich and firm creamy texture on a classic biscuit base.', price: 26, calories: null, categoryId: 'desserts', image: '25.jpg' },
            { id: 26, nameAr: 'لوف كيك الماربل', nameEn: 'Marble Loaf Cake', descriptionAr: '', descriptionEn: '', price: 10, calories: 460, categoryId: 'desserts', image: '26.jpg' },
            { id: 27, nameAr: 'لوف كيك التوت', nameEn: 'Berry Loaf Cake', descriptionAr: '', descriptionEn: '', price: 10, calories: 400, categoryId: 'desserts', image: '27.jpg' },
            { id: 28, nameAr: 'كوكيز', nameEn: 'Cookies', descriptionAr: '', descriptionEn: '', price: 13, calories: 380, categoryId: 'desserts', image: '28.jpg' },
            { id: 29, nameAr: 'فكتوريا كيك', nameEn: 'Victoria Cake', descriptionAr: '', descriptionEn: '', price: 20, calories: 320, categoryId: 'desserts', image: '29.jpg' }
        ];

        function App() {
            const [activeCategory, setActiveCategory] = useState(CATEGORIES[0].id);
            const [language, setLanguage] = useState('ar');
            const [imageErrors, setImageErrors] = useState({}); 
            
            const pillsContainerRef = useRef(null);
            
            const isAr = language === 'ar';

            // تحديث اتجاه الصفحة عند تغيير اللغة
            useEffect(() => {
                document.documentElement.dir = isAr ? 'rtl' : 'ltr';
                document.documentElement.lang = isAr ? 'ar' : 'en';
            }, [isAr]);

            useEffect(() => {
                const handleScroll = () => {
                    const headerOffset = 180; 
                    let currentActive = CATEGORIES[0].id;

                    for (const cat of CATEGORIES) {
                        const element = document.getElementById(`section-${cat.id}`);
                        if (element) {
                            const rect = element.getBoundingClientRect();
                            if (rect.top <= headerOffset + 50) {
                                currentActive = cat.id;
                            }
                        }
                    }

                    if (activeCategory !== currentActive) {
                        setActiveCategory(currentActive);
                        const pillElement = document.getElementById(`pill-${currentActive}`);
                        if (pillElement && pillsContainerRef.current) {
                            try {
                                pillElement.scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'center' });
                            } catch(e) {}
                        }
                    }
                };

                window.addEventListener('scroll', handleScroll, { passive: true });
                return () => window.removeEventListener('scroll', handleScroll);
            }, [activeCategory]);

            const scrollToCategory = (categoryId) => {
                setActiveCategory(categoryId);
                const element = document.getElementById(`section-${categoryId}`);
                const headerOffset = 160; 
                
                if (element) {
                    const elementPosition = element.getBoundingClientRect().top;
                    const offsetPosition = elementPosition + window.scrollY - headerOffset;
                    window.scrollTo({ top: offsetPosition, behavior: 'smooth' });
                }
            };

            const toggleLanguage = () => {
                setLanguage(prev => prev === 'ar' ? 'en' : 'ar');
            };

            const handleImageError = (imageId) => {
                setImageErrors(prev => ({ ...prev, [imageId]: true }));
            };

            const getImageUrl = (imagePath) => {
                return `images/${imagePath}`;
            };

            return (
                <div className="text-[#1A2012] selection:bg-[#6B7A57] selection:text-white pb-10">
                    <div className="max-w-md mx-auto relative min-h-screen flex flex-col bg-[#F0ECE1] shadow-xl" dir={isAr ? "rtl" : "ltr"}>
                        
                        {/* --- الهيدر --- */}
                        <header className="pt-8 px-5 flex flex-col relative z-0">
                            <div className={`flex ${isAr ? 'justify-start' : 'justify-end'}`}>
                                <div className="w-14 h-14 rounded-full flex items-center justify-center overflow-hidden shadow-sm border-2 border-[#F0ECE1] bg-[#6B7A57]">
                                    {!imageErrors['0'] ? (
                                        <img 
                                            src={getImageUrl('0.jpg')} 
                                            alt="Logo" 
                                            className="w-full h-full object-cover" 
                                            onError={() => handleImageError('0')}
                                        />
                                    ) : (
                                        <span className="text-xs font-bold text-white">{isAr ? 'شعار' : 'Logo'}</span>
                                    )}
                                </div>
                            </div>

                            <h1 className="text-[4rem] font-black text-center mt-2 tracking-tighter text-[#6B7A57]">
                                {isAr ? 'تونتي يو ار' : 'Twenty UR'}
                            </h1>

                            <button onClick={toggleLanguage} className="flex justify-end mt-4 items-center gap-1.5 font-bold text-sm bg-transparent border-none outline-none cursor-pointer text-[#1A2012] hover:opacity-70 transition-opacity">
                                <ChevronDown size={16} />
                                <span>{isAr ? 'English' : 'عربي'}</span>
                                <Globe size={16} />
                            </button>

                            <div className="text-center mt-6 flex flex-col items-center">
                                <div className="text-xl font-bold flex items-center gap-2 text-[#6B7A57]">
                                    <ChevronDown size={20} />
                                    {isAr ? 'تونتي يو ار' : 'Twenty UR'}
                                </div>
                                <div className="flex justify-center gap-6 mt-4 mb-8 text-black">
                                    <Truck size={22} fill="currentColor" />
                                    <Star size={22} fill="currentColor" />
                                    <MapPin size={22} fill="currentColor" />
                                </div>
                            </div>
                        </header>

                        {/* --- شريط التصنيفات --- */}
                        <div className="sticky top-0 z-30 pt-4 pb-4 px-5 border-b border-black/5 bg-[#F0ECE1]">
                            <div ref={pillsContainerRef} className="flex gap-2.5 overflow-x-auto hide-scrollbar whitespace-nowrap scroll-smooth pb-1">
                                {CATEGORIES.map((cat) => {
                                    const isActive = activeCategory === cat.id;
                                    return (
                                        <button
                                            key={cat.id}
                                            id={`pill-${cat.id}`}
                                            onClick={() => scrollToCategory(cat.id)}
                                            className="px-6 py-2.5 rounded-full text-sm font-bold transition-colors duration-300 shrink-0"
                                            style={{ 
                                                backgroundColor: isActive ? THEME.olive : THEME.blackBtn,
                                                color: isActive ? THEME.darkText : THEME.white,
                                            }}
                                        >
                                            {isAr ? cat.labelAr : cat.labelEn}
                                        </button>
                                    );
                                })}
                            </div>
                        </div>

                        {/* --- قائمة المنتجات --- */}
                        <main className="flex-1 rounded-t-[2.5rem] px-5 pt-8 pb-10 z-20 relative mt-4 bg-[#6B7A57]">
                            <div className="w-12 h-1 rounded-full mx-auto mb-10 bg-black opacity-30"></div>

                            <div className="space-y-16">
                                {CATEGORIES.map((category) => {
                                    const categoryItems = MENU_ITEMS.filter(item => item.categoryId === category.id);
                                    if (categoryItems.length === 0) return null;

                                    return (
                                        <section key={category.id} id={`section-${category.id}`} className="scroll-mt-48">
                                            <h2 className={`text-[1.6rem] font-bold mb-8 ${isAr ? 'pr-1' : 'pl-1'} text-[#1A2012]`}>
                                                {isAr ? category.labelAr : category.labelEn}
                                            </h2>

                                            <div className="space-y-10">
                                                {categoryItems.map((item) => {
                                                    const itemName = isAr ? item.nameAr : item.nameEn;
                                                    const itemDesc = isAr ? item.descriptionAr : item.descriptionEn;

                                                    return (
                                                        <div key={item.id} className="flex items-start justify-between gap-4">
                                                            {/* التفاصيل */}
                                                            <div className="flex-1 pt-1 flex flex-col h-full">
                                                                <h3 className="text-xl font-bold mb-1 text-[#1A2012]">{itemName}</h3>
                                                                {itemDesc && <p className="text-[13px] leading-snug mb-3 opacity-80 font-medium text-[#1A2012]">{itemDesc}</p>}
                                                                {item.calories && <p className="text-[13px] mb-4 font-bold text-[#1A2012]">{item.calories} {isAr ? 'سعرة حرارية' : 'Calories'}</p>}
                                                                
                                                                {/* زر السعر (للعرض فقط) */}
                                                                <div className="mt-auto pt-2">
                                                                    <div className="inline-flex items-center gap-1.5 bg-white px-3 py-1.5 rounded-[0.4rem] font-bold shadow-sm text-black">
                                                                        <span className="font-sans text-[15px]">{item.price}</span>
                                                                        <span className="text-xs opacity-90">{isAr ? 'ريال' : 'SAR'}</span>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            {/* الصورة المبرمجة بذكاء */}
                                                            <div className="w-28 h-28 rounded-[2rem] overflow-hidden shrink-0 shadow-sm bg-white/40 border border-black/5 flex items-center justify-center relative">
                                                                {!imageErrors[item.id] ? (
                                                                    <img 
                                                                        src={getImageUrl(item.image)} 
                                                                        alt={itemName} 
                                                                        className="w-full h-full object-cover mix-blend-multiply relative z-10"
                                                                        loading="lazy" 
                                                                        onError={() => handleImageError(item.id)}
                                                                    />
                                                                ) : (
                                                                    <span className="text-3xl font-black text-[#6B7A57] opacity-60 absolute z-0">
                                                                        {item.image.replace('.jpg', '')}
                                                                    </span>
                                                                )}
                                                            </div>
                                                        </div>
                                                    );
                                                })}
                                            </div>
                                        </section>
                                    );
                                })}
                            </div>
                        </main>
                        
                    </div>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
